{"version":3,"file":"component---src-pages-sport-js-a8b737167a9f99843d6e.js","mappings":"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","sources":["webpack://recosante-site/./src/components/About.js","webpack://recosante-site/./src/components/Data.js","webpack://recosante-site/./src/components/newsletter/Mockup.js","webpack://recosante-site/./src/components/newsletter/Notifications.js","webpack://recosante-site/./src/components/Newsletter.js","webpack://recosante-site/./src/hooks/useOnScreen.js","webpack://recosante-site/./src/pages/sport.js"],"sourcesContent":["import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\n\nimport Section from 'components/base/Section'\n\nexport default function About() {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        mdx(slug: { eq: \"about\" }) {\n          body\n        }\n      }\n    `\n  )\n\n  return (\n    <Section id='about' small>\n      <MDXRenderer>{data.mdx.body}</MDXRenderer>\n    </Section>\n  )\n}\n","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\n\nimport Section from 'components/base/Section'\n\nexport default function Data() {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        mdx(slug: { eq: \"data\" }) {\n          body\n        }\n      }\n    `\n  )\n\n  return (\n    <Section id='data' small>\n      <MDXRenderer>{data.mdx.body}</MDXRenderer>\n    </Section>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { StaticImage } from 'gatsby-plugin-image'\n\nconst Wrapper = styled.div`\n  position: absolute;\n  z-index: -1;\n  pointer-events: none;\n  top: 50%;\n  left: calc(50%);\n  transform: translate(-50%, -50%);\n  width: 80rem;\n\n  ${(props) => props.theme.mq.small} {\n    width: 175vw;\n  }\n`\nconst Background = styled.div`\n  opacity: ${(props) => (props.isOnScreen ? 1 : 0)};\n  transform: translateY(${(props) => (props.isOnScreen ? 0 : '9rem')});\n  transition: transform 600ms ease-out, opacity 600ms;\n\n  ${(props) => props.theme.mq.small} {\n    transform: none;\n    opacity: 1;\n  }\n`\nconst Tablet = styled.div`\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transform: translateY(${(props) => (props.isOnScreen ? 0 : '12rem')});\n  opacity: ${(props) => (props.isOnScreen ? 1 : 0)};\n  transition: transform 600ms ease-out, opacity 600ms;\n\n  ${(props) => props.theme.mq.small} {\n    transform: none;\n    opacity: 1;\n  }\n`\nexport default function Mockup(props) {\n  return (\n    <>\n      <Wrapper className={props.className}>\n        <Background isOnScreen={props.isOnScreen}>\n          <StaticImage\n            src={'./mockup/background.jpg'}\n            alt='Ombre'\n            placeholder='none'\n          />\n        </Background>\n        <Tablet isOnScreen={props.isOnScreen}>\n          {props.type === 'baignades' ? (\n            <StaticImage\n              src='./mockup/tablet-baignades.png'\n              alt='Tablette'\n              placeholder='none'\n            />\n          ) : (props.type === 'uv' ? (\n            <StaticImage\n              src='./mockup/tablet-uv.png'\n              alt='Tablette'\n              placeholder='none'\n            />\n          ) : (props.type === 'qa' ? (\n              <StaticImage\n                src='./mockup/tablet-qa.png'\n                alt='Tablette'\n                placeholder='none'\n              />\n          ) : (\n            <StaticImage\n              src='./mockup/tablet.png'\n              alt='Tablette'\n              placeholder='none'\n            />\n          )))}\n        </Tablet>\n      </Wrapper>\n    </>\n  )\n}\n","import React, { useContext, useRef } from 'react'\nimport styled from 'styled-components'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\n\nimport ModalContext from 'utils/ModalContext'\nimport { useLocalUser } from 'hooks/useUser'\nimport Button from 'components/base/Button'\nimport Section from 'components/base/Section'\nimport Images from './notifications/Images'\n\nimport useOnScreen from 'hooks/useOnScreen'\n\nconst StyledSection = styled(Section)`\n  display: flex;\n  width: 60.5rem;\n\n  ${(props) => props.theme.mq.medium} {\n    flex-direction: column-reverse;\n    align-items: center;\n  }\n`\nconst Content = styled.div`\n  width: 29.25rem;\n  margin-left: 2rem;\n\n  ${(props) => props.theme.mq.medium} {\n    width: 31rem;\n    margin: 0 0 2rem;\n  }\n  ${(props) => props.theme.mq.small} {\n    width: auto;\n    margin: 0 0 1rem;\n  }\n  p {\n    margin-bottom: 1em;\n  }\n`\nconst MockupWrapper = styled.div`\n  flex: 1;\n  position: relative;\n\n  ${(props) => props.theme.mq.medium} {\n    min-height: 14rem;\n  }\n\n  ${(props) => props.theme.mq.small} {\n    min-height: auto;\n  }\n`\nconst StyledButton = styled(Button)`\n  font-size: 1.125rem;\n\n  ${(props) => props.theme.mq.small} {\n    font-size: 1rem;\n  }\n`\nexport default function Notifications() {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        mdx(slug: { eq: \"introduction-notifications\" }) {\n          body\n        }\n      }\n    `\n  )\n\n  const { setSubscription } = useContext(ModalContext)\n  const { mutateUser } = useLocalUser()\n\n  const ref = useRef()\n  const isOnScreen = useOnScreen(ref)\n\n  return (\n    <StyledSection ref={ref} id='notifications'>\n      <MockupWrapper>\n        <Images isOnScreen={isOnScreen} />\n      </MockupWrapper>\n      <Content>\n        <MDXRenderer>{data.mdx.body}</MDXRenderer>\n        <Button.Wrapper right>\n          <StyledButton\n            onClick={() => {\n              mutateUser({\n                indicateurs: ['indice_atmo', 'raep'],\n              })\n              setSubscription('indicators')\n              window?._paq?.push([\n                'trackEvent',\n                'Subscription',\n                'Indicateur',\n                'Tous',\n              ])\n            }}\n            hollow\n          >\n            Choisir mes indicateurs\n          </StyledButton>\n        </Button.Wrapper>\n      </Content>\n    </StyledSection>\n  )\n}\n","import React, { useEffect, useContext, useRef } from 'react'\nimport styled from 'styled-components'\nimport { navigate } from 'gatsby'\nimport { useLocation } from '@reach/router'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\n\nimport ModalContext from 'utils/ModalContext'\nimport { useLocalUser } from 'hooks/useUser'\nimport useOnScreen from 'hooks/useOnScreen'\nimport Section from 'components/base/Section'\nimport Button from 'components/base/Button'\nimport Mockup from './newsletter/Mockup'\nimport Notifications from './newsletter/Notifications'\n\nconst StyledSection = styled(Section)`\n  display: flex;\n\n  ${(props) => props.theme.mq.medium} {\n    flex-direction: column;\n  }\n`\nconst Content = styled.div`\n  width: 41.75rem;\n  margin-right: 2rem;\n\n  ${(props) => props.theme.mq.medium} {\n    width: auto;\n    margin: 0 0 2rem;\n  }\n  ${(props) => props.theme.mq.small} {\n    margin: 0 0 1rem;\n  }\n\n  h1 {\n    font-size: ${(props) => (props.seo ? 2 : 4)}rem;\n\n    ${(props) => props.theme.mq.small} {\n      font-size: 1.5rem;\n    }\n  }\n  h2 {\n    margin-bottom: 2rem;\n    font-size: 4rem;\n\n    ${(props) => props.theme.mq.small} {\n      margin-bottom: 1.5rem;\n      font-size: 2rem;\n    }\n  }\n  p {\n    max-width: 35.5rem;\n    margin-bottom: 1em;\n    font-size: 1.25rem;\n\n    ${(props) => props.theme.mq.medium} {\n      max-width: none;\n    }\n\n    ${(props) => props.theme.mq.small} {\n      font-size: 1rem;\n    }\n  }\n`\nconst StyledButton = styled(Button)`\n  font-size: 1.25rem;\n`\nconst MockupWrapper = styled.div`\n  flex: 1;\n  position: relative;\n\n  ${(props) => props.theme.mq.medium} {\n    min-height: 40rem;\n    overflow: hidden;\n    margin: -3rem 0;\n  }\n  ${(props) => props.theme.mq.small} {\n    min-height: 100vw;\n    overflow: hidden;\n    margin: -10vw 0;\n  }\n`\nexport default function Newsletter(props) {\n  const { setSubscription } = useContext(ModalContext)\n  const { mutateUser } = useLocalUser()\n\n  const data = useStaticQuery(\n    graphql`\n      query {\n        mdx(slug: { eq: \"introduction\" }) {\n          body\n        }\n      }\n    `\n  )\n\n  const ref = useRef()\n\n  const isOnScreen = useOnScreen(ref, '0px', 0.7)\n\n  const location = useLocation()\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const indicateurs = params.getAll('indicateur').filter(i => ['indice_atmo', 'raep', 'vigilance_meteo', 'indice_uv'].includes(i));\n    if (indicateurs.length > 0) {\n      mutateUser({\n        indicateurs: indicateurs,\n      })\n      setSubscription('indicators')\n      params.delete('indicateur')\n      navigate(`${location.pathname}${Array.from(params).length > 0 ? '?' + params.toString() : ''}`, { replace: true })\n    }\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <StyledSection first={props.first} id='newsletter'>\n        <Content ref={ref} seo={props.seo}>\n          <MDXRenderer>{(props.data || data).mdx.body}</MDXRenderer>\n          <Button.Wrapper>\n            {props.type === 'baignades' ? (\n              <StyledButton to='/'>\n                Consulter la qualité de l’eau de baignade\n              </StyledButton>\n            ) : (\n              <StyledButton\n                onClick={() => {\n                  mutateUser({\n                    indicateurs: props.indicateurs || ['indice_atmo', 'raep'],\n                  })\n                  setSubscription('indicators')\n                  window?._paq?.push(['trackEvent', 'Subscription', 'Infolettre'])\n                }}\n              >\n                M'abonner à Recosanté\n              </StyledButton>)}\n          </Button.Wrapper>\n        </Content>\n        <MockupWrapper>\n          <Mockup type={props.type} isOnScreen={isOnScreen} />\n        </MockupWrapper>\n      </StyledSection>\n      {(props.type !== 'qa' && props.type !== 'uv' && props.type !== 'baignades') && <Notifications />}\n    </>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nexport default function useOnScreen(ref, rootMargin = '0px', threshold = 1) {\n  // State and setter for storing whether element is visible\n  const [isIntersecting, setIntersecting] = useState(false)\n\n  useEffect(() => {\n    const current = ref.current\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (!isIntersecting) {\n          // Update our state when observer callback fires\n          setIntersecting(entry.isIntersecting)\n        }\n      },\n      {\n        rootMargin,\n        threshold,\n      }\n    )\n    if (current) {\n      observer.observe(current)\n    }\n    return () => {\n      observer.unobserve(current)\n    }\n  }, [ref, rootMargin, threshold, isIntersecting])\n\n  return isIntersecting\n}\n","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\n\nimport Web from 'components/layout/Web'\nimport Newsletter from '../components/Newsletter'\nimport Data from 'components/Data'\nimport About from 'components/About'\n\nexport default function Asthme() {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        mdx(slug: { eq: \"introduction-sport\" }) {\n          body\n        }\n      }\n    `\n  )\n\n  return (\n    <Web title={`Sport`}>\n      <Newsletter first data={data} seo />\n      <Data />\n      <About />\n    </Web>\n  )\n}\n"],"names":["About","data","useStaticQuery","id","small","MDXRenderer","mdx","body","Data","Wrapper","styled","props","theme","mq","Background","isOnScreen","Tablet","Mockup","className","S","src","alt","placeholder","type","StyledSection","Section","medium","Content","MockupWrapper","StyledButton","Button","Notifications","setSubscription","useContext","ModalContext","mutateUser","useLocalUser","ref","useRef","useOnScreen","Images","right","onClick","indicateurs","window","_paq","push","hollow","seo","Newsletter","location","useLocation","useEffect","params","URLSearchParams","search","getAll","filter","i","includes","length","delete","navigate","pathname","Array","from","toString","replace","first","to","rootMargin","threshold","useState","isIntersecting","setIntersecting","current","observer","IntersectionObserver","entry","observe","unobserve","Asthme","title"],"sourceRoot":""}